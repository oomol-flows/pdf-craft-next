inputs_def:
  - handle: pdf_path
    description: "Path to the input PDF file"
    json_schema:
      type: string
      ui:widget: file
    nullable: false

  - group: Optional
    collapsed: true

  - handle: output_path
    description: Path where the markdown file will be saved (defaults to session directory)
    json_schema:
      type: string
      ui:widget: save
      ui:options:
        filters:
          - name: Markdown
            extensions:
              - md
        excludeAll: true
    value:
    nullable: true

  - handle: includes_footnotes
    description: "Whether to include footnotes in the output markdown (default: false)"
    json_schema:
      type: boolean
    value:
    nullable: true

  - handle: ocr_size
    description: "OCR model size: 'gundam' (balanced), 'small' (faster), 'tiny'
      (fastest), 'base' (standard, default), 'large' (highest quality)"
    json_schema:
      type: string
      enum:
        - gundam
        - small
        - tiny
        - base
        - large
    value:
    nullable: true

  - handle: generate_plot
    description: "Whether to generate analysis visualizations during conversion
      (default: false)"
    json_schema:
      type: boolean
    value:
    nullable: true

  - handle: optimization_level
    description: "Inference optimization level: 'balanced' (bfloat16, recommended,
      default), 'quality' (float16, conservative)"
    json_schema:
      type: string
      enum:
        - balanced
        - quality
    value:
    nullable: true

  - handle: gpu_memory_fraction
    description: "Maximum GPU memory fraction to use (0.1-1.0). Lower values leave
      memory for other tasks (default: 0.9)"
    json_schema:
      type: number
      minimum: 0.1
      maximum: 1.0
    value:
    nullable: true

outputs_def:
  - handle: zip_path
    description: "Path to the zip archive containing markdown and all assets"
    json_schema:
      type: string

executor:
  name: python
  options:
    entry: __init__.py
    spawn: false

title: "PDF to Markdown"
icon: ":carbon:document-export:"
description: "Convert PDF documents to Markdown format with image extraction.
  Supports footnotes and generates analysis visualizations."
